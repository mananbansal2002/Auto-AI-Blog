<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="google-site-verification" content="mibFuJqw-K5gkqub1c_ZQ4WSCFCqNXWWRHjehnx631M" />  <title>DarkNet Stories</title>
  <link rel="stylesheet" href="./assets/css/main.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&display=swap');

    body {
      cursor: none;
      background-color: #000;
      margin: 0;
      padding: 0;
      position: relative;
    }

    /* Torch Light */
    #torch {
      position: fixed;
      pointer-events: none;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 80%);
      mix-blend-mode: screen;
      z-index: 10000;
    }

    /* Glitch Flicker Overlay */
    body::after {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        rgba(255, 0, 77, 0.015) 0px,
        rgba(0, 0, 0, 0.015) 1px,
        transparent 2px
      );
      z-index: 9999;
      pointer-events: none;
      mix-blend-mode: overlay;
      animation: flickerOverlay 1s infinite;
    }

    @keyframes flickerOverlay {
      0%, 100% { opacity: 0.03; }
      50% { opacity: 0.07; }
    }

    .quote {
      font-style: italic;
      color: #ff004d;
      text-align: center;
      margin: 2rem auto;
      opacity: 0.75;
      animation: floatQuote 16s infinite ease-in-out;
      max-width: 80%;
      font-size: 1.3rem;
      text-shadow: 0 0 10px #ff004d55;
    }

    @keyframes floatQuote {
      0%, 100% { transform: translateY(0); opacity: 0.6; }
      25% { opacity: 0.4; transform: scale(1.01); }
      50% { transform: translateY(-12px) scale(0.98); opacity: 1; }
      75% { opacity: 0.5; transform: scale(1.02); }
    }

    .quote::after {
      content: '_';
      animation: blinkCursor 1.2s infinite;
      color: #ff004d;
      margin-left: 4px;
    }

    @keyframes blinkCursor {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0; }
    }

    h1 {
      font-family: 'UnifrakturCook', cursive;
      font-size: 4rem;
      color: #ff003c;
      text-shadow: 0 0 20px #ff003caa, 0 0 40px #ff003c44;
      text-align: center;
      margin-top: 2rem;
      animation: flickerTitle 4s infinite alternate;
    }

    @keyframes flickerTitle {
      0%, 100% { opacity: 1; text-shadow: 0 0 10px #ff003caa; }
      50% { opacity: 0.8; text-shadow: 0 0 20px #ff003c66; }
      75% { opacity: 0.6; text-shadow: 0 0 30px #ff003c22; }
    }

    .story-card {
      border: 1px solid #2e2e2e;
      padding: 1.25rem;
      margin: 1.5rem;
      background: #111;
      color: #e2e2e2;
      text-shadow: 0 0 2px #000;
      box-shadow: 0 0 20px #000;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .story-card::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(circle at center, rgba(255,0,77,0.05), transparent 70%);
      z-index: 0;
    }

    .story-card:hover {
      background-color: #1a1a1a;
      color: #ff004d;
      transform: scale(1.02);
      box-shadow: 0 0 25px #ff004d88;
    }

    .story-card h2 {
      font-size: 1.5rem;
      color: #ff003c;
      margin-bottom: 0.5rem;
    }

    .story-card p {
      color: #888;
      font-size: 0.9rem;
    }

    /* Mobile Styling */
    @media (max-width: 600px) {
      h1 {
        font-size: 2.5rem;
        margin-top: 1.5rem;
      }

      .quote {
        font-size: 1rem;
        margin: 1rem auto;
      }

      .story-card {
        margin: 1rem 0.5rem;
        padding: 1rem;
      }

      .story-card h2 {
        font-size: 1.2rem;
      }

      .story-card p {
        font-size: 0.85rem;
      }

      #torch {
        width: 120px;
        height: 120px;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 80%);
      }
    }

    /* Dark Pulse Tap Animation */
    @keyframes pulseDark {
      0% {
        box-shadow: 0 0 0px rgba(255,0,77,0.1);
      }
      50% {
        box-shadow: 0 0 30px rgba(255,0,77,0.25);
      }
      100% {
        box-shadow: 0 0 0px rgba(255,0,77,0.1);
      }
    }

    body.pulse {
      animation: pulseDark 0.6s ease-out;
    }
  </style>
</head>
<body>
  <div id="torch"></div>
  <div class="container">
    <h1>Echoes from Tomorrow</h1>
    <div class="quote" id="dark-quote"></div>
    <div id="story-list"></div>
  </div>

  <script>
    const torch = document.getElementById('torch');

    document.addEventListener('mousemove', (e) => {
      torch.style.left = `${e.clientX - 100}px`;
      torch.style.top = `${e.clientY - 100}px`;
    });

    document.addEventListener('touchmove', (e) => {
      if (e.touches.length > 0) {
        torch.style.left = `${e.touches[0].clientX - 60}px`;
        torch.style.top = `${e.touches[0].clientY - 60}px`;
      }
    });

    document.addEventListener('touchstart', () => {
      document.body.classList.add('pulse');
      setTimeout(() => document.body.classList.remove('pulse'), 600);
    });

    const quotes = [
      '"They say he never logged out... and he\'s still in the wires."',
      '"Midnight is when the darknet breathes."',
      '"Every click brings you closer to the void."',
      '"She read the blog. Now the blog reads her."',
      '"There was blood in the bandwidth."',
      '"He typed \"hello world\" ‚Äî the world replied in screams."',
      '"Red lights blinked. One blinked back."',
      '"Between the lines of code, something watches."',
      '"The stream never stopped. Neither did the screaming."',
      '"She downloaded death, zipped tight in a .rar."',
      '"When the page loaded, so did the screams."',
      '"He coded in blood, each script a curse."'
    ];
    document.getElementById('dark-quote').textContent = quotes[Math.floor(Math.random() * quotes.length)];

    function cleanTitle(title) {
      return title
        .replace(/^\*+|\*+$/g, '') // Remove surrounding asterisks
        .replace(/^title\s*[:-]?\s*/i, '') // Remove 'title' prefix
        .replace(/^[-:*]+\s*/, '') // Remove leading - or :
        .trim();
    }

    fetch('./stories/index.json')
      .then((res) => res.json())
      .then((stories) => {
        const container = document.getElementById('story-list');
        stories.forEach((story) => {
          const cleanedTitle = cleanTitle(story.title);
          const card = document.createElement('div');
          card.className = 'story-card';

          const randomFutureDate = () => {
            const today = new Date();
            const yearsAhead = Math.floor(Math.random() * 20);
            today.setFullYear(today.getFullYear() + yearsAhead);
            const daysAhead = Math.floor(Math.random() * 180) + 1;
            today.setDate(today.getDate() + daysAhead);
            return today.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' });
          };

          const creepyDateOptions = [
            "The curse will end on",
            "The haunting begins on",
            "The last day before the end is",
            "When the darkness rises, it will be",
            "The day the veil lifts will be",
            "When the net closes, it'll be",
            "The scream will echo until",
            "The last breath will be drawn on",
            "The shadow will fall on",
            "The night of reckoning is set for"
          ];

          const randomCreepyDate = creepyDateOptions[Math.floor(Math.random() * creepyDateOptions.length)];

          card.innerHTML = `<h2>‚ò† ${cleanedTitle}</h2><p>üïØÔ∏è ${randomCreepyDate} ${randomFutureDate()}</p>`;

          card.onclick = () =>
            (window.location.href = `story-template.html?slug=${story.slug}`);
          container.appendChild(card);
        });
      });
  </script>
</body>
</html>
